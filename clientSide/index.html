<!DOCTYPE html>
<html>
<head >
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="scripts/script.js"></script>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
  <link rel="shortcut icon" href="assets/house.png" />
</head
<body >





<div ng-app="myApp" ng-controller="companyCtrl">
  <div class="row">
    <div class="col-sm-3 col-lg-3 col-md-3 col-lg-3 col-xl-3">
      <h4 for="selectedParam">Please select the parameter you want to search for</h3>
    </div>
    <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
      <select id="dropdown" class="form-control" ng-model="selectedParam">
        <option disabled selected value> -- select an option -- </option>
        <option>Company ID</option>
        <option>Company Name</option>
        <option>Address</option>
        <option>City</option>
        <option>Country</option>
        <option>Owners</option>
        <option>Phone Number</option>
        <option>Email</option>
      </select>
    </div>
    <div class="col-sm-3 col-lg-3 col-md-3 col-xl-3">
      <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for {{selectedParam}}" title="Type in an ID">
    </div>
  </div>
  <div class="row">

  </div>
  <div class="row">
      <div class="col-sm-10 col-lg-10 col-md-10 col-xl-9">
        <div class="table-wrapper-scroll-y">
            <table class="table table-striped table-hover" id="myTable">
              <thead class="thead-dark">
                <th>Company ID</th>
                <th>Company Name</th>
                <th>Address</th>
                <th>City</th>
                <th>Country</th>
                <th>Owners</th>
                <th>Phone number</th>
                <th>Email</th>
                <th></th>
              </thead>
              <tr ng-repeat="company in companies"  ng-click="InsertTextIntoInputFields($index)">
                <td>{{company.companyID}}</td>
                <td>{{company.companyName}}</td>
                <td>{{company.address}}</td>
                <td>{{company.city}}</td>
                <td>{{company.country}}</td>
                <td>{{company.owners}}</td>
                <td>{{company.phoneNumber}}</td>
                <td>{{company.email}}</td>
                <td><button class="btn" name="_method" id="deleteButton" ng-click="DeleteData($index)">Delete</button></td>

              </tr>
            </table>
          </div>
        </div>

          <div class="col-sm-10 col-lg-10 col-md-10 col-xl-3">
              <form>
                <div class="form-group">
                  <label for="companyID">Company ID</label>
                  <input placeholder="Only numbers" type="text" class="form-control" id="companyID" ng-model="companyID" min="1" max="99999"  title="Insert a ID-number (no letters)" pattern="[0-9]\d*" required>
                </div>
                <div class="form-group">
                  <label for="companyName">Company Name</label>
                  <input type="text" class="form-control" id="companyName" ng-model="companyName" required>
                </div>
                <div class="form-group">
                  <label for="address">Address</label>
                  <input type="text" class="form-control" id="address" ng-model="address" required>
                </div>

                <div class="form-group">
                  <label for="city">City</label>
                  <input type="text" class="form-control" id="city" ng-model="city" required>
                </div>
                <div class="form-group">
                  <label for="country">Country</label>
                  <input type="text" class="form-control" id="country" ng-model="country" required>
                </div>
                <div class="form-group">
                  <label for="owners">Owners</label>
                  <input type="text" class="form-control" id="owners" ng-model="owners" required>
                </div>
                <div class="form-group">
                  <label for="phoneNumber">Phone number</label>
                  <input type="text" class="form-control" id="phoneNumber" ng-model="phoneNumber"  pattern="[0-9]\d*" optional>
                </div>
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" ng-model="email" optional>
                </div>
                  <button type="submit" class="btn" name="_method" ng-click="PostOrPatchDelegater(companyID)">{{containsCompany(companyID)?"Update":"Add new company"}}</button>
                  <button class="btn" ng-click="ClearInputFields()">Reset the form</button>
              </form>
              <br>

            </div>
      </div>
</div>
</body>
</html>
